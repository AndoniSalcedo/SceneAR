<html data-lt-installed="true"><head>
    <meta aframe-injected="" name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"><meta aframe-injected="" name="mobile-web-app-capable" content="yes"><meta aframe-injected="" name="theme-color" content="black"><script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
      AFRAME.registerComponent('occlusion', {

          schema: {
            type: 'boolean' , default: true
          },

          init: function() {
            this.setOcclusion(this.data);
          },

          update: function() {
            console.log(this.data);
            this.setOcclusion(this.data);
          },

          setOcclusion: function(val) {

            // Create occlusion material
            const material = new THREE.MeshStandardMaterial({
              colorWrite: !val,
              color: 0xff0000,
            });

            // Apply material to object and all children
            this.el.object3D.traverse( (obj) => {
              obj.material = material;
            });
          }

      });

      function enableOcclusion(val, val2) {
        let obj = document.getElementById("occlusion");
        obj.setAttribute('visible', val);
        obj.setAttribute('occlusion', val2);
      } 

    </script>
  </head>

  <body style="width: 1202px; height: 901.5px; margin-left: 0px; margin-top: -4.25px;">
    <div style="position: fixed; bottom: 10px; width:100%; text-align: center; z-index: 1;">
      <button onclick="enableOcclusion(false, false)">
        Disable
      </button>
      
      <button onclick="enableOcclusion(true, false)">
        Color
      </button>
      
      <button onclick="enableOcclusion(true, true)">
        Oclusion
      </button>
      
    </div>

    <a-scene embedded="" arjs'="" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="" device-orientation-permission-ui="">
      <a-marker-camera preset="kanji" material="" arjs-anchor="" camera=""></a-marker-camera>

          <a-entity id="occlusion" occlusion="" position="1.1 0 0" scale="1 1 1">
            <!-- <a-cylinder position="0 0.5 0" height="1.6" radius="0.45" material="color:orange;opacity:0.5"></a-cylinder> -->
            <a-box position="0 0.375 0" height="0.75" width="0.75" depth="0.75" material="color:orange;opacity:0.5" geometry=""></a-box> --&gt;
          </a-entity>
          
          <a-entity id="arbol" position="0 0 0" scale="0.5 0.5 0.5">
            <a-cylinder position="0 0.5 0" height="1" radius="0.1" color="brown" material="" geometry=""></a-cylinder>
            <a-sphere position="0 1 0" radius="0.5" color="green" material="" geometry=""></a-sphere>
          </a-entity>

          <a-entity id="arbol" position="2.3 0 -0.1" scale="0.7 0.7 0.7">
            <a-cylinder position="0 0.5 0" height="1" radius="0.1" color="brown" material="" geometry=""></a-cylinder>
            <a-sphere position="0 1 0" radius="0.5" color="green" material="" geometry=""></a-sphere>
          </a-entity>

          <a-entity id="arbol" position="1.1 0 -1.3" scale="0.6 0.6 0.6">
            <a-cylinder position="0 0.5 0" height="1" radius="0.1" color="brown" material="" geometry=""></a-cylinder>
            <a-sphere position="0 1 0" radius="0.5" color="green" material="" geometry=""></a-sphere>
          </a-entity>

          <a-entity id="arbol" position="1 0 1" scale="0.9 0.9 0.9">
            <a-cylinder position="0 0.5 0" height="1" radius="0.1" color="brown" material="" geometry=""></a-cylinder>
            <a-sphere position="0 1 0" radius="0.5" color="green" material="" geometry=""></a-sphere>
          </a-entity>

          <a-entity id="esfera" position="1.1 0 0" animation="property:rotation; to: 0 360; easing: linear; loop: true; dur:2000">
            <a-sphere position="0.6 0.2 0" radius="0.1" color="mediumseagreen" material="" geometry=""></a-sphere>
            <a-sphere position="-0.6 0.4 0" radius="0.1" color="mediumseagreen" material="" geometry=""></a-sphere>
          </a-entity>

          

      <!-- </a-marker> -->

      <a-entity camera=""></a-entity>

    <canvas class="a-canvas a-grab-cursor" data-aframe-canvas="true" data-engine="three.js r147" width="960" height="720" style=""></canvas><div class="a-loader-title" style="display: none;"></div><a-entity camera="" position="" wasd-controls="" rotation="" look-controls="" aframe-injected=""></a-entity><div class="a-enter-vr fullscreen" aframe-injected="" style="position: fixed;"><button class="a-enter-vr-button" title="Enter VR mode with a headset or fullscreen without" aframe-injected=""></button></div><div class="a-enter-ar a-hidden" aframe-injected=""><button class="a-enter-ar-button" title="Enter AR mode with a headset or handheld device." aframe-injected=""></button></div><div class="a-orientation-modal a-hidden" aframe-injected=""><button aframe-injected="">Exit VR</button></div><a-entity light="" data-aframe-default-light="" aframe-injected=""></a-entity><a-entity light="" position="" data-aframe-default-light="" aframe-injected=""></a-entity></a-scene>
  
<video autoplay="" muted="" playsinline="" id="arjs-video" style="width: 1202px; height: 901.5px; position: absolute; top: 0px; left: 0px; z-index: -2; margin-left: 0px; margin-top: -4.25px;"></video></body></html>